INTRODUCCIÓN A LAS EXPRESIONES Y VARIABLES SQL - MySQL

set @x=5;  
select @x :=1;
	Las variables se utilizan con @ y se inicializan con :=

select @x;
	Ver la variable

Conversiones implícitas por defecto valor null.

Mostrar una variable no inicializada.

Operaciones matemáticas:
	sumas, restas, multiplicación y división
	sqrt(@x) -> raíz cuadrada
	sin(@x)  -> seno (Cuidado el valor introducido debe estar en radianes)
	radians(90);
	rand(); -> num aleatorio entre 0 y 1.
	round(2.56); -> redondea al entero más cercano.
	round(x,y); [round(10.5687, 2)]  -> el segundo argumento dirá cuantos decimales tendremos.
	@x >10 -> comparaciones (función booleana, devuelve 0 para false y 1 para true
	PI()
	pow(4, 2) -> exponente

select @x:=5*4
select @x, sqrt(@x), @x+10;


EJERCICIO1:
	Guardar en otra variable el doble de x
	**mostrarlo

EJERCICIO2:
	Raíz cúbica de 27.
	**mostrarlo


Almacen de sentencias SQL

select @hora_ingreso:= now();

select curdate() -> fecha sin hora.

select curtime() -> hora sin fecha

select DATE(now()) -> Extrae la parte de fecha de la expresión de fecha o fecha y hora expr.

select DATEDIFF('2023-12-12', now())  -> retorna el número de días entre la fecha inicial expr y la fecha final expr2. expr y expr2 son expresiones de fecha o de fecha y hora.
		Fecha más reciente primero para que el valor sea positivo.

select DATE_FORMAT(now(), '%a %d %b %Y') -> Formatea el valor date según la cadena format. 
			  (día de la semana abreviado, día mes, mes abreviado y año 4 dígitos

SELECT DAYNAME('2024-01-12');

SELECT MONTHNAME('2024-01-12');

SELECT @@lc_time_names;
	variable del sistema que controla el idioma utilizado para mostrar nombres y abreviaturas de los días y los meses.

SET lc_time_names = 'es_ES';
	cambiamos el valor de la variable de sistema en nuestra sesión actual.
	con GLOBAL se modifica en todo el sistema (es necesario cerrar e iniciar sesión)

EJERCICIO:
	Guardar y mostrar en una variable llamada fecha_formateada la fecha guardada en una variable x
	El formato debe tener en el siguiente orden:
		Día de la semana en formato largo
		Día del mes (numérico)
		Nombre del mes (formato largo)
		Año (2 dígitos)
		

select TIME('2023-12-10 10:05:55')-> Extrae la parte de hora de la expresión hora o fecha/hora expr.
select TIME_FORMAT('10:05:55.002' , '%H %i %S')
		diferencia entre %h e %I es que %I las doce de la noche es 00 no 12

sysdate() == now()

do @precio := 1.5;
	Podemos evaluar si la expresión la hemos declarado correctamente.


-----------------Registrar todas las operaciones de una sesión------------:

tee registro.txt
	IMPORTANTE PONER EL ARCHIVO EN UN DIRECTORIO CONCRETO.
	cd /home/cynthia/Documentos
	A partir de ese momento estará monitorizando las sentencias realizadas.
CANCELAR-> notee

--------------SENTENCIAS DESDE UN FICHERO--------------

Crear fichero en un directorio concreto
Fichero con extension .sql
Poner sentencias
Abrir mysql
Y ejecutar el archivo:

	source directorio con fichero;
